doctype html
html(ng-app='ogstore')
  head
    title Grocery Store
    meta(name='viewport', content='width=device-width, initial-scale=1')
    meta(http-equiv='Content-Type', content='text/html; charset=utf-8')      
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css', type='text/css', media='all')
    link(rel='stylesheet', href='/stylesheets/style.css', type='text/css', media='all')
    link(rel='stylesheet', href='/stylesheets/font-awesome.css', type='text/css', media='all')
    link(rel='stylesheet', href='//fonts.googleapis.com/css?family=Ubuntu:400,300,300italic,400italic,500,500italic,700,700italic', type='text/css')
    link(rel='stylesheet', href='//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic', type='text/css')          
    script(src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-resource.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-route.js')
    script(src='/javascripts/jquery-1.11.1.min.js')
    script(src='/javascripts/bootstrap.min.js')
    script(src='/javascripts/ogstore.js')
    script(src='/javascripts/move-top.js', type='text/javascript')
    script(src='/javascripts/easing.js', type='text/javascript')    
    script(src='/javascripts/okzoom.js', type='text/javascript')
    script(type='application/x-javascript'). 
      addEventListener("load", function() { 
        setTimeout(hideURLbar, 0); }, false);
      function hideURLbar(){ window.scrollTo(0,1); }
    
  body
    div(ng-include="'partials/header.html'")
    div(class="banner")            
      block content    
    div(ng-include="'/partials/footer.html'")
    script(src='/javascripts/minicart.js', type='text/javascript')
    script(type='text/javascript').
      jQuery(document).ready(function($) {
        $(".scroll").click(function(event){     
          event.preventDefault();
          $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
        });
      });
      $(document).ready(function() {
        setTimeout(function() {
          var navoffeset=$(".agileits_header").offset().top;
          $(window).scroll(function(){
            var scrollpos=$(window).scrollTop(); 
            if(scrollpos >=navoffeset){
                $(".agileits_header").addClass("fixed");
            }else{
                $(".agileits_header").removeClass("fixed");
            }
         });
        }, 1000);

        $(".dropdown").hover(function() {
          $('.dropdown-menu', this).stop( true, true ).slideDown("fast");
          $(this).toggleClass('open');        
        }, function() {
          $('.dropdown-menu', this).stop( true, true ).slideUp("fast");
          $(this).toggleClass('open');       
        });

        $().UItoTop({ easingType: 'easeOutQuart' });

        paypal.minicart.render();

        paypal.minicart.cart.on('checkout', function (evt) {
          var items = this.items(), len = items.length, total = 0, i;
          // Count the number of each item in the cart
          for (i = 0; i < len; i++) {
            total += items[i].get('quantity');
          }
          if (total < 3) {
            alert('The minimum order quantity is 3. Please add more to your shopping cart before checking out');
            evt.preventDefault();
          }
        });

        $(function(){
          $('#example').okzoom({
            width: 150,
            height: 150,
            border: "1px solid black",
            shadow: "0 0 5px #000"
          });
        });
      });
